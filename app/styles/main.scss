// scss-lint:disable Comment, NestingDepth, IdSelector, QualifyingElement, SelectorDepth

$icon-font-path: '../fonts/';


// From: huisstijl.deltares.nl

$builder-form-row: #d6d6ce;

$deltares-blauw: #008fc5;
$deltares-metallic: #92b6c7;
$deltares-zand: #a09e8d;
$deltares-cyaan: #00c4d6;
$deltares-oranje: #ff7200;
$deltares-groen: #b4d300;
$deltares-cyclaam: #eb0073;
$white: #f3f3f3;
$gray-light: #ccc;
$black: #070707;

$color-details-column: $white;
$color-scenario-column: #ddd;
$color-runs-column: #eee;

$brand-primary: $deltares-blauw;
$brand-info: $deltares-metallic;
$brand-success: $deltares-groen;
$brand-warning: $deltares-oranje;
$brand-danger: $deltares-cyclaam;
$body-bg: $white; //lighten($black, 33.5%);

// TODO: base on gray and brand colors:
$row-color-finished: #e5ffca;
$row-color-warning: #fffbca;
$row-color-error: #ffcaca;
$row-color-even: #efefef;
$row-color-odd: #f7f7f7;
$selected-item-color: #dae4d1;
$row-border-color: $gray-light;
$state-completed: #6ca15e;
$state-pending: $gray-light;
$state-processing: #7facc5;
$box-shadow-color: rgba(0, 0, 0, .075);

/* This part is wiredepped
// bower:scss
@import 'bower_components/bootstrap-sass/assets/stylesheets/_bootstrap.scss';
// endbower:scss
*/

// it's better to include the main package
@import 'bower_components/bootstrap-sass/assets/stylesheets/bootstrap';
@import 'bower_components/font-awesome/scss/font-awesome';


/* Utilities */
// Make object shadowed.
@mixin shadowed() {
  box-shadow: 0 0 32px 0 $gray-dark;

}

// Do disable round borders on an element
@mixin rectangle-corners() {
  border-radius: 0;
}

// Fill max height.
@mixin fill {
  //min-height: 100%;
  //height: 100%;
  height: calc(100vh - 130px);
}

// Truncate a line of text with elli...
@mixin truncate {

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}


@mixin status-colors() {
  &.completed {


    background-color: $row-color-finished;

    &:hover {
      background-color: mix($row-color-finished, $white, 50%);
    }
  }

  &.warning {
    background-color: $row-color-warning;

    &:hover {
      background-color: mix($row-color-warning, $white, 50%);
    }
  }

  &.error {
    background-color: $row-color-error;

    // No highlight for errors. (so same color)
    &:hover {
      background-color: $row-color-error;
    }
  }
}


// COlor for the model state (processing, pending, completed, error?)
@mixin model-state-colors() {

  &.processing {
    background-color: $state-processing;
  }

  &.pending {
    background-color: $state-pending;
  }

  &.completed {
    background-color: $state-completed;
  }

}


// Color variables, we use automatic colors for hover based upon these

$cell-padding: 6px;
$row-height: 32px;


.fa-top-right {
  font-size: small;
  left: 1em;
  top: -1em;
}

.alert {
  @include rectangle-corners();
}

.btn {
  @include rectangle-corners();

  // Give a bit of space when inside a row.
  &.inside-cell {
    margin: 3px;
  }
}


// Override rounded corners, default bootstrap style
.input-group-addon {
  @include rectangle-corners();
}

.form-control {
  @include rectangle-corners();
}


.footer {
  margin: 8px 0 0;
}

.navbar-header .btn {
  vertical-align: middle;
}

.panel,
.panel-group .panel {
  @include rectangle-corners();
}

.navbar-brand {
  height: 80px;
  padding: 0;

  img {
    height: 100%;
  }
}

.navbar-static-top {
  // no borders pls
  border: 0;
  margin: 0;

  // Span over all available width
  width: 100vw;

  // Shadow below the div
  box-shadow: 0px 2px 4px $gray;

  .navbar-right {
    /* same make buttons fit in the line so they align properly */
    line-height: 50px;
    // by default buttons stick all the way to the right
    margin-right: 0;
    // Hack to outline buttons with main text
    margin-top: 5px;
  }

  .navbar-btn {
    // smaller button margins than default nav-btns
    margin-left: 6px;
    padding: 6px 12px;
  }
  // height: 80px;
  .navbar-nav li {
    // 2*15px margin
    h3 {
      line-height: 1;
      margin: 0;
    }
  }

}


.tool-bar {
  background-color: $gray-light;
  height: 50px;

  margin-bottom: 0;

  overflow: hidden;

  .btn {
    font-size: 14px;
    font-weight: bold;
    height: 30px;
    line-height: 1;
    margin-top: 10px;
  }

}

// Scenario list
.column-scenario-list {
  background-color: $color-scenario-column;
}

// Runs list
.column-runs-list {
  background-color: $color-runs-column;
}

// Detail view
.column-details.column {
  background-color: $color-details-column;
}


.full-height {
  @include fill();
}

// Columns in the design
.column {
  @include fill();
  // Scroll columns (assumes some vertical height set)
  //  overflow-x: scroll;
  overflow-y: auto;
}



// Generic disabled element
.inputdisabled {
  background: $gray-lighter;
  border-color: $gray-light;
  color: $gray-light;
  pointer-events: none;
}

.table-default {
  margin-bottom: 32px;
  width: 100%;

  .error {
    background-color: $row-color-error;
  }

  td {
    border: 1px solid $row-border-color;
    height: $row-height;

    &.centered {
      text-align: center;
    }

    &.cell-zero-padding {
      padding: 0;
    }

  }

  thead {
    th {
      background-color: $gray-lighter;
      border: 1px solid $gray-light;
      font-size: 12px;
      font-weight: bold;
      height: $row-height;
      text-align: center;
      text-transform: uppercase;
    }
  }

  tbody {

    td {
      padding-left: $cell-padding;
    }

    tr {
      &.clickable {
        cursor: pointer;
      }
    }

    tr:nth-child(odd) {
      @include status-colors();
      background-color: $row-color-even;

      &:hover {
        background-color: mix($row-color-even, $white, 50%);
      }
    }

    tr:nth-child(even) {
      @include status-colors();
      background-color: $row-color-odd;

      &:hover {
        background-color: mix($row-color-odd, $white, 50%);
      }
    }

    // Progressbars in cell are a bit different than Bootstrap ones:
    .progress-incell {
      @include rectangle-corners();
      margin: 4px;
    }
  }
}

.scenariobuilder-schematic {
  max-width: 80%;
}


.animation-frame {
  max-width: 100%;
}

// Based upon btn but without all the hover fx, etc
.animframeindicator {
  //border: 1px solid $gray-lighter;
  display: inline-block;
  float: left;
  margin-left: 4px;
  padding: 6px 12px;
  text-align: center;
  vertical-align: middle;
}

.model-information {
  padding: 4px 0 0 32px;


  h2 {
    margin-top: 0;
  }
}



#model-log-output-wrap {
  border: 1px solid  $gray-lighter;
  max-height: 400px;
  overflow: auto;
  padding: 8px;

  // Rectangle borders:
  pre {
    border-radius: 0;
  }

}

#model-log-output {

  background-color: transparent;
  color: $gray-dark;
  white-space: pre-line;
  word-break: normal;
  word-wrap: normal;


}


.column-actions {
  text-align: center;
  width: 10%;
}


.item-group-title {
  font-weight: bold;
  min-width: 160px;
}

.default-hidden {
  display: none;
}

// Fix for bootstrap issue
// http://stackoverflow.com/questions/19960162/bootstrap-3-modal-fires-and-causes-page-to-shift-to-the-left-momentarily-brows
.modal {
  overflow-y: auto;
}

.modal-open {
  overflow: auto;
}



.column-header {
  border-bottom: 1px solid $gray-light;

}

.message-alert {
  @include rectangle-corners();
  margin: 0;
}

/* Left nav */

nav.sidebar,
.main {
  @include rectangle-corners();
  margin-top: 12px;
  transition: margin 200ms ease-out;
}

.main {
  padding: 10px 10px 0;
}

// Some helper functions:

.no-padding {
  padding: 0;
}

.no-margin {
  margin: 0;
}

.no-minheight {
  min-height: initial;
}

.centered {
  margin: 0 auto;
}

.max-width {
  width: 100%;
}

.vertical-align {
  vertical-align: middle;
}

.row-top-margin {
  margin-top: 32px;
}


@media (min-width: 765px) {
  .main {
    float: right;
    margin-left: 40px;
    position: absolute;
    width: calc(100% - 40px);
  }

  nav.sidebar:hover + .main {
    margin-left: 200px;
  }

  nav.sidebar.navbar.sidebar>.container .navbar-brand,
  .navbar>.container-fluid .navbar-brand {
    margin-left: 0;
  }

  nav.sidebar .navbar-brand,
  nav.sidebar .navbar-header {
    margin-left: 0;
    text-align: center;
    width: 100%;
  }

  nav.sidebar a {
    padding-right: 13px;
  }

  nav.sidebar .navbar-nav > li {
    border-bottom: 1px $gray-lighter solid;
  }

  // No bottom for last item.
  nav.sidebar .navbar-nav > li:last-child {
    border-bottom: 0;
  }


  nav.sidebar .navbar-nav .open .dropdown-menu {
    background-color: transparent;
    border: 0;
    box-shadow: none;
    float: none;
    margin-top: 0;
    position: static;
    width: auto;
  }



  nav.sidebar .navbar-collapse,
  nav.sidebar .container-fluid {
    padding: 0;
  }

  .navbar-inverse .navbar-nav .open .dropdown-menu>li>a {
    color: $gray-light;
  }

  nav.sidebar {
    float: left;
    height: 100%;
    margin-bottom: 0;
    width: 200px;
  }

  nav.sidebar li {
    width: 100%;
  }

  nav.sidebar:hover {
    margin-left: 0;
  }

}

@media (min-width: 1330px) {

  .main {
    margin-left: 200px;
    width: calc(100% - 200px);
  }

  nav.sidebar {
    float: left;
    margin-left: 0;
  }

  nav.sidebar .for-animate {
    opacity: 1;
  }
}

nav.sidebar .navbar-nav .open .dropdown-menu>li>a:hover,
nav.sidebar .navbar-nav .open .dropdown-menu>li>a:focus {
  background-color: transparent;
  color: $gray-light;
}

nav:hover .for-animate {
  opacity: 1;
}

section {
  padding-left: 15px;
}


.bootstrap-tagsinput {
  @include rectangle-corners();
  @include transition(border-color ease-in-out .15s, box-shadow ease-in-out .15s);
  @include box-shadow(inset 0 1px 1px $box-shadow-color);
  border: 1px solid $input-border;
  width: 100%;
}

/* End left nav */


/* Components */


.finder-columns,
.search-columns {
  .column {
    /* 1 px for the border */
    padding-left: 0;
    padding-right: 0;
  }
}

.search-details {
  .panel {
    margin: 0 6px;
  }

  .ion-range-container {
    /* todo lookup variable */
  }

  .irs-from,
  .irs-to,
  .irs-single {
    background-color: $brand-primary;
  }

  .irs-slider,
  .irs-bar {
    background: $brand-primary;
  }

  .irs-from::after,
  .irs-to::after,
  .irs-single::after {
    border-top-color: $brand-primary;
  }

  .irs-slider {
    width: 5px;
  }
}

.scenario-list,
.model-list,
.model-details,
.search-details {
  min-height: 100%;
  overflow: auto;
  padding: 0;

  h3 {
    /* pad left and right */
    padding: 0 10px;
  }

  .alert {
    margin: 1px;
  }

  .list-group-item {
    @include rectangle-corners();

    padding: 0;

    &:hover {

      background-color: mix($row-color-even, $white, 50%);
      cursor: pointer;
    }

    &.selected {
      background-color: $selected-item-color;
    }

    // A href becomes block
    a {
      @include truncate();
      // hide the selection focus (dotted lines)
      color: $black;
      display: block;
      outline: none;
      padding: 10px;
      text-decoration: none;
      width: 80%;
    }

    .model-state {
      @include model-state-colors();
      border: 1px solid $gray-lighter;
      bottom: 30%;
      position: absolute;
      right: 4px;
    }


  }
}

.user-details {
  a {
    color: $white;
  }

  a:hover {
    color: $brand-primary;
    text-decoration: none;
  }
}

.scenario-list {
  background-color: darken($gray-lighter, 10%);
}

.model-list {
  background-color: darken($gray-lighter, 5%);
}
